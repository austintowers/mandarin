Of course. I have replaced the old word list with the new, categorized list you provided.

All other game features, including the 5 lives and streak messages, remain the same. The game is now tailored precisely to the vocabulary you want to test.

Here is the complete, updated code for "Hanzi Sprint".

-----

### **Instructions**

1.  **Copy:** Select and copy all the code in the block below.
2.  **Paste:** Open a plain text editor (like Notepad on Windows or TextEdit on Mac) and paste the code.
3.  **Save:** Save the file as `hanzi_sprint_custom.html`. Make sure the extension is `.html`.
4.  **Play:** Double-click the saved file to open it in your browser.

-----

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hanzi Sprint (Ê±âÂ≠óÂÜ≤Âà∫) - PSLE Revision</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #f0f7ff;
            --main-color: #005a9c;
            --accent-color: #ffc107;
            --correct-color: #28a745;
            --incorrect-color: #dc3545;
            --white: #ffffff;
            --text-dark: #333;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Poppins', 'Noto Sans SC', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-dark);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }

        .container {
            width: 100%;
            max-width: 600px;
            padding: 20px;
            background-color: var(--white);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .screen {
            display: none;
        }

        .screen.active {
            display: block;
        }
        
        #game-screen {
            position: relative; /* Needed for streak message positioning */
        }

        h1 {
            color: var(--main-color);
            font-family: 'Noto Sans SC', sans-serif;
            font-size: 2.5rem;
        }
        
        h2 {
            margin-bottom: 20px;
        }

        p {
            margin: 15px 0;
            line-height: 1.6;
        }

        .btn {
            display: inline-block;
            background-color: var(--main-color);
            color: var(--white);
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            width: 200px;
            margin-top: 20px;
        }

        .btn:hover {
            background-color: #004170;
            transform: translateY(-2px);
        }

        /* Difficulty Slider */
        .difficulty-slider {
            margin: 30px auto;
            width: 80%;
        }
        
        .difficulty-slider label {
            font-weight: 600;
            font-size: 1.1rem;
        }

        input[type="range"] {
            -webkit-appearance: none;
            width: 100%;
            height: 15px;
            border-radius: 5px;   
            background: #d3eaff;
            outline: none;
            opacity: 0.7;
            -webkit-transition: .2s;
            transition: opacity .2s;
            margin-top: 10px;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            border-radius: 50%; 
            background: var(--main-color);
            cursor: pointer;
        }

        /* Game Screen */
        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .game-header .stat {
            background-color: var(--bg-color);
            padding: 5px 15px;
            border-radius: 20px;
        }

        #lives {
            font-size: 1.5rem;
            letter-spacing: 2px;
        }
        
        #timer-bar-container {
            width: 100%;
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        #timer-bar {
            height: 100%;
            width: 100%;
            background-color: var(--correct-color);
            border-radius: 5px;
            transition: width 0.1s linear, background-color 0.5s ease;
        }

        #prompt {
            font-size: 1.5rem;
            font-weight: 600;
            margin: 30px 0;
            min-height: 70px;
        }

        .answer-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .answer-btn {
            background-color: var(--white);
            color: var(--main-color);
            border: 2px solid var(--main-color);
            padding: 15px 5px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100px;
        }
        
        .answer-btn:hover:not(:disabled) {
            background-color: var(--bg-color);
            transform: translateY(-3px);
        }
        
        .answer-btn .hanzi {
            font-size: 2rem;
            font-family: 'Noto Sans SC', sans-serif;
        }

        .answer-btn .pinyin {
            font-size: 0.9rem;
            font-family: 'Poppins', sans-serif;
            color: #555;
            margin-top: 5px;
            visibility: hidden; /* Hide pinyin by default */
        }
        
        .answer-btn.show-pinyin .pinyin {
            visibility: visible; /* Show pinyin when class is added */
        }

        .answer-btn.correct {
            background-color: var(--correct-color);
            border-color: var(--correct-color);
            color: var(--white);
        }
        
        .answer-btn.correct .pinyin {
            color: var(--white);
        }

        .answer-btn.incorrect {
            background-color: var(--incorrect-color);
            border-color: var(--incorrect-color);
            color: var(--white);
        }
        
        .answer-btn.incorrect .pinyin {
            color: var(--white);
        }
        
        .answer-btn:disabled {
            cursor: not-allowed;
        }

        /* Streak Message */
        #streak-message {
            position: absolute;
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(255, 193, 7, 0.95);
            color: var(--text-dark);
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.8rem;
            font-weight: 700;
            z-index: 10;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.4s ease-in-out, top 0.4s ease-in-out;
        }
        #streak-message.show {
            opacity: 1;
            top: 35%;
        }

        /* Game Over Screen */
        .score-summary p {
            font-size: 1.2rem;
        }

        #summary-table-container {
            max-height: 250px;
            overflow-y: auto;
            margin-top: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        
        #summary-table {
            width: 100%;
            border-collapse: collapse;
        }

        #summary-table th, #summary-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        #summary-table th {
            background-color: var(--bg-color);
            position: sticky;
            top: 0;
        }
    </style>
</head>
<body>

    <div class="container">
        <div id="start-screen" class="screen active">
            <h1>Hanzi Sprint Ê±âÂ≠óÂÜ≤Âà∫</h1>
            <p>Test your PSLE Mandarin vocabulary! Read the English meaning and choose the correct Chinese word before time runs out. You have 5 lives. Good luck! Âä†Ê≤π!</p>
            <div class="difficulty-slider">
                <label for="difficulty">Difficulty: <span id="difficulty-label">Medium (5s)</span></label>
                <input type="range" id="difficulty" min="1" max="3" value="2">
            </div>
            <button id="start-btn" class="btn">Start Sprint</button>
        </div>

        <div id="game-screen" class="screen">
            <div id="streak-message"></div>
            <div class="game-header">
                <div id="score" class="stat">Score: 0</div>
                <div id="streak" class="stat">üî• x 0</div>
                <div id="lives" class="stat">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
            </div>
            <div id="timer-bar-container">
                <div id="timer-bar"></div>
            </div>
            <div id="prompt">What is the Mandarin word for...?</div>
            <div class="answer-grid">
                <button class="answer-btn" data-index="0"><span class="hanzi"></span><span class="pinyin"></span></button>
                <button class="answer-btn" data-index="1"><span class="hanzi"></span><span class="pinyin"></span></button>
                <button class="answer-btn" data-index="2"><span class="hanzi"></span><span class="pinyin"></span></button>
                <button class="answer-btn" data-index="3"><span class="hanzi"></span><span class="pinyin"></span></button>
            </div>
        </div>

        <div id="game-over-screen" class="screen">
            <h2>Great Sprint! Time to review.</h2>
            <div class="score-summary">
                <p><strong>Final Score: <span id="final-score">0</span></strong></p>
                <p><strong>Average Time per Guess: <span id="avg-time">0</span>s</strong></p>
            </div>
            <h3>Words to Revise (Â§ç‰π†ËØçËØ≠)</h3>
            <div id="summary-table-container">
                <table id="summary-table">
                    <thead>
                        <tr>
                            <th>No.</th>
                            <th>Ê±âÂ≠ó</th>
                            <th>Pinyin</th>
                            <th>English Meaning</th>
                        </tr>
                    </thead>
                    <tbody id="summary-body"></tbody>
                </table>
            </div>
            <button id="try-again-btn" class="btn">Try Again</button>
        </div>
    </div>

    <script>
        // --- 1. NEW CUSTOM WORD LIST ---
        const wordList = [
            // 1) School Life Â≠¶Ê†°ÁîüÊ¥ª
            { hanzi: 'ËØæÂ†Ç', pinyin: 'k√®t√°ng', english: 'classroom' },
            { hanzi: 'ËÄÉËØï', pinyin: 'k«éosh√¨', english: 'exam' },
            { hanzi: 'Áè≠‰∏ª‰ªª', pinyin: 'bƒÅnzh«îr√®n', english: 'form teacher' },
            { hanzi: 'Âä™Âäõ', pinyin: 'n«îl√¨', english: 'work hard' },
            { hanzi: 'ÊàêÁª©', pinyin: 'ch√©ngj√¨', english: 'results' },
            { hanzi: '‰Ωú‰∏ö', pinyin: 'zu√≤y√®', english: 'homework' },
            { hanzi: 'Â§ç‰π†', pinyin: 'f√πx√≠', english: 'revision' },
            { hanzi: 'ÂêåÂ≠¶', pinyin: 't√≥ngxu√©', english: 'classmate' },
            { hanzi: 'ËÄÅÂ∏à', pinyin: 'l«éoshƒ´', english: 'teacher' },
            { hanzi: 'ËØæÂ§ñÊ¥ªÂä®', pinyin: 'k√®w√†i hu√≥d√≤ng', english: 'CCA' },
            { hanzi: 'ËØæÈó¥‰ºëÊÅØ', pinyin: 'k√®jiƒÅn xi≈´xi', english: 'recess' },
            { hanzi: 'ÊìçÂú∫', pinyin: 'cƒÅoch«éng', english: 'field' },
            { hanzi: 'Êô®‰ºö', pinyin: 'ch√©nhu√¨', english: 'morning assembly' },
            { hanzi: 'ÂçáÊóóÁ§º', pinyin: 'shƒìngq√≠ l«ê', english: 'flag-raising' },
            { hanzi: 'Ê†°ËßÑ', pinyin: 'xi√†oguƒ´', english: 'school rules' },
            { hanzi: 'ÂÄºÊó•Áîü', pinyin: 'zh√≠r√¨shƒìng', english: 'duty student' },
            { hanzi: 'Â∞èÁªÑËÆ®ËÆ∫', pinyin: 'xi«éoz«î t«éol√πn', english: 'group discussion' },
            { hanzi: 'ËØ∑ÂÅáÊù°', pinyin: 'q«êngji√† ti√°o', english: 'leave slip' },
            { hanzi: 'Â≠¶Êúü', pinyin: 'xu√©qƒ´', english: 'term/semester' },
            { hanzi: 'ÂÆ∂Èïø‰ºö', pinyin: 'jiƒÅzh«éng hu√¨', english: 'parent‚Äìteacher meeting' },
            // 2) Family & Home ÂÆ∂Â∫≠ÁîüÊ¥ª
            { hanzi: 'Áà∑Áà∑Â•∂Â•∂', pinyin: 'y√©ye n«éinai', english: 'grandparents' },
            { hanzi: 'ÊâìÊâ´', pinyin: 'd«és«éo', english: 'cleaning' },
            { hanzi: 'Áõ∏Â§Ñ', pinyin: 'xiƒÅngch«î', english: 'get along' },
            { hanzi: 'ÁÖßÈ°æ', pinyin: 'zh√†og√π', english: 'take care' },
            { hanzi: '‰∫âÂêµ', pinyin: 'zhƒìngch«éo', english: 'quarrel' },
            { hanzi: 'Áà∂ÊØç', pinyin: 'f√πm«î', english: 'parents' },
            { hanzi: 'ÂÖÑÂºüÂßêÂ¶π', pinyin: 'xi≈çngd√¨ jiƒõm√®i', english: 'siblings' },
            { hanzi: 'ÂÆ∂Âä°', pinyin: 'jiƒÅw√π', english: 'housework' },
            { hanzi: 'ÂÅöÈ•≠', pinyin: 'zu√≤f√†n', english: 'cook' },
            { hanzi: 'Èô™‰º¥', pinyin: 'p√©ib√†n', english: 'accompany' },
            { hanzi: 'ÂÆ∂Â∫≠‰Ωú‰∏ö', pinyin: 'jiƒÅt√≠ng zu√≤y√®', english: 'homework' },
            { hanzi: 'Ê≤üÈÄö', pinyin: 'g≈çut≈çng', english: 'communication' },
            { hanzi: 'ÁêÜËß£', pinyin: 'l«êjiƒõ', english: 'understanding' },
            { hanzi: 'ÈÇªÂ±Ö', pinyin: 'l√≠nj≈´', english: 'neighbour' },
            { hanzi: 'ÂÆ†Áâ©', pinyin: 'ch«íngw√π', english: 'pet' },
            { hanzi: 'Ê¥óË°£', pinyin: 'x«êyƒ´', english: 'do laundry' },
            { hanzi: 'Êï¥ÁêÜÊàøÈó¥', pinyin: 'zhƒõngl«ê f√°ngjiƒÅn', english: 'tidy room' },
            { hanzi: 'ÁúÅÈí±', pinyin: 'shƒõngqi√°n', english: 'save money' },
            { hanzi: 'ÂÆ∂ËßÑ', pinyin: 'jiƒÅguƒ´', english: 'house rules' },
            { hanzi: 'Â≠ùÈ°∫', pinyin: 'xi√†osh√πn', english: 'filial piety' },
            // 3) Friendship & Values ÊúãÂèã‰∏é‰ª∑ÂÄºËßÇ
            { hanzi: 'ËØöÂÆû', pinyin: 'ch√©ngsh√≠', english: 'honest' },
            { hanzi: '‰ΩìË∞Ö', pinyin: 't«êli√†ng', english: 'understanding' },
            { hanzi: 'ÂêµÊû∂', pinyin: 'ch«éoji√†', english: 'quarrel' },
            { hanzi: 'Âä©‰∫∫‰∏∫‰πê', pinyin: 'zh√πr√©n w√©i l√®', english: 'helping others' },
            { hanzi: 'ÊÑüÊÅ©', pinyin: 'g«én‚Äôƒìn', english: 'gratitude' },
            { hanzi: '‰ø°‰ªª', pinyin: 'x√¨nr√®n', english: 'trust' },
            { hanzi: 'ÂÆà‰ø°Áî®', pinyin: 'sh«íu x√¨ny√≤ng', english: 'keep promises' },
            { hanzi: 'ÂèãÂñÑ', pinyin: 'y«íush√†n', english: 'friendly' },
            { hanzi: 'Âêà‰Ωú', pinyin: 'h√©zu√≤', english: 'cooperate' },
            { hanzi: 'ÂàÜ‰∫´', pinyin: 'fƒìnxi«éng', english: 'share' },
            { hanzi: 'ÈÅìÊ≠â', pinyin: 'd√†oqi√†n', english: 'apologise' },
            { hanzi: 'ÂéüË∞Ö', pinyin: 'yu√°nli√†ng', english: 'forgive' },
            { hanzi: 'ÂÆΩÂÆπ', pinyin: 'kuƒÅnr√≥ng', english: 'tolerance' },
            { hanzi: 'Â∞äÈáç', pinyin: 'z≈´nzh√≤ng', english: 'respect' },
            { hanzi: 'ÂãáÊï¢', pinyin: 'y«íngg«én', english: 'brave' },
            { hanzi: 'Ë¥£‰ªªÂøÉ', pinyin: 'z√©r√®nxƒ´n', english: 'responsibility' },
            { hanzi: 'Ëá™Âæã', pinyin: 'z√¨l«ú', english: 'self-discipline' },
            { hanzi: 'ÂêåÁêÜÂøÉ', pinyin: 't√≥ngl«êxƒ´n', english: 'empathy' },
            { hanzi: 'ÂñÑËâØ', pinyin: 'sh√†nli√°ng', english: 'kindness' },
            { hanzi: 'Âù¶ËØö', pinyin: 't«énch√©ng', english: 'frankness' },
            // 4) Health & Safety ÂÅ•Â∫∑‰∏éÂÆâÂÖ®
            { hanzi: 'ÊÑüÂÜí', pinyin: 'g«énm√†o', english: 'flu' },
            { hanzi: 'Âç´Áîü', pinyin: 'w√®ishƒìng', english: 'hygiene' },
            { hanzi: 'È•ÆÈ£ü', pinyin: 'y«ênsh√≠', english: 'diet' },
            { hanzi: 'È¢ÑÈò≤', pinyin: 'y√πf√°ng', english: 'prevention' },
            { hanzi: 'ÂÆâÂÖ®Êé™ÊñΩ', pinyin: 'ƒÅnqu√°n cu√≤shƒ´', english: 'safety measures' },
            { hanzi: 'ÂèëÁÉß', pinyin: 'fƒÅshƒÅo', english: 'fever' },
            { hanzi: 'Âí≥ÂóΩ', pinyin: 'k√©s√≤u', english: 'cough' },
            { hanzi: 'ËøáÊïè', pinyin: 'gu√≤m«ên', english: 'allergy' },
            { hanzi: 'ÂùáË°°È•ÆÈ£ü', pinyin: 'j≈´nh√©ng y«ênsh√≠', english: 'balanced diet' },
            { hanzi: 'ÂûÉÂúæÈ£üÂìÅ', pinyin: 'lƒÅjƒ´ sh√≠p«ên', english: 'junk food' },
            { hanzi: 'Ëê•ÂÖª', pinyin: 'y√≠ngy«éng', english: 'nutrition' },
            { hanzi: 'Â§öÂñùÊ∞¥', pinyin: 'du≈ç hƒì shu«ê', english: 'drink more water' },
            { hanzi: 'ÂÖÖË∂≥Áù°Áú†', pinyin: 'ch≈çngz√∫ shu√¨mi√°n', english: 'adequate sleep' },
            { hanzi: '‰∏™‰∫∫Âç´Áîü', pinyin: 'g√®r√©n w√®ishƒìng', english: 'personal hygiene' },
            { hanzi: 'Âã§Ê¥óÊâã', pinyin: 'q√≠n x«êsh«íu', english: 'wash hands often' },
            { hanzi: 'Ê∂àÊØí', pinyin: 'xiƒÅod√∫', english: 'sanitise' },
            { hanzi: 'Âè£ÁΩ©', pinyin: 'k«íuzh√†o', english: 'mask' },
            { hanzi: 'ÊÄ•Êïë', pinyin: 'j√≠ji√π', english: 'first aid' },
            { hanzi: 'ÊñëÈ©¨Á∫ø', pinyin: 'bƒÅnm«éxi√†n', english: 'zebra crossing' },
            { hanzi: '‰∫§ÈÄöÂÆâÂÖ®', pinyin: 'jiƒÅot≈çng ƒÅnqu√°n', english: 'road safety' },
            // 5) Environment & Responsibility ÁéØÂ¢É‰∏éË¥£‰ªª
            { hanzi: 'ÂûÉÂúæÂàÜÁ±ª', pinyin: 'lƒÅjƒ´ fƒìnl√®i', english: 'waste sorting' },
            { hanzi: 'ËäÇÁ∫¶ËÉΩÊ∫ê', pinyin: 'ji√©yuƒì n√©ngyu√°n', english: 'save energy' },
            { hanzi: 'Áà±Êä§ÁéØÂ¢É', pinyin: '√†ih√π hu√°nj√¨ng', english: 'care for the environment' },
            { hanzi: 'ÂõûÊî∂', pinyin: 'hu√≠sh≈çu', english: 'recycling' },
            { hanzi: 'ÂÖ¨Âæ∑ÂøÉ', pinyin: 'g≈çngd√©xƒ´n', english: 'civic-mindedness' },
            { hanzi: 'ÁéØ‰øùË¢ã', pinyin: 'hu√°nb«éo d√†i', english: 'reusable bag' },
            { hanzi: 'ËäÇÁ∫¶Áî®Ê∞¥', pinyin: 'ji√©yuƒì y√≤ngshu«ê', english: 'conserve water' },
            { hanzi: 'ËäÇÁ∫¶Áî®Áîµ', pinyin: 'ji√©yuƒì y√≤ngdi√†n', english: 'save electricity' },
            { hanzi: 'Á©∫Ê∞îÊ±°Êüì', pinyin: 'k≈çngq√¨ w≈´r«én', english: 'air pollution' },
            { hanzi: 'Ê∞¥Ê±°Êüì', pinyin: 'shu«ê w≈´r«én', english: 'water pollution' },
            { hanzi: 'Âô™Èü≥', pinyin: 'z√†oyƒ´n', english: 'noise pollution' },
            { hanzi: 'ÁªøËâ≤Âá∫Ë°å', pinyin: 'l«ús√® ch≈´x√≠ng', english: 'green commuting' },
            { hanzi: 'ÂÖ¨ÂÖ±‰∫§ÈÄö', pinyin: 'g≈çngg√≤ng jiƒÅot≈çng', english: 'public transport' },
            { hanzi: 'Ê§çÊ†ë', pinyin: 'zh√≠sh√π', english: 'tree planting' },
            { hanzi: 'Âπ≤ÂáÄÊï¥ÈΩê', pinyin: 'gƒÅnj√¨ng zhƒõngq√≠', english: 'clean & tidy' },
            { hanzi: 'ÈöèÊâãÂÖ≥ÁÅØ', pinyin: 'su√≠sh«íu guƒÅn dƒìng', english: 'switch off lights' },
            { hanzi: '‰π±‰∏¢ÂûÉÂúæ', pinyin: 'lu√†n di≈´ lƒÅjƒ´', english: 'littering' },
            { hanzi: '‰∫åÊâãÁâ©ÂìÅ', pinyin: '√®rsh«íu w√πp«ên', english: 'second-hand items' },
            { hanzi: 'Ëá™Â∏¶È§êÂÖ∑', pinyin: 'z√¨d√†i cƒÅnj√π', english: 'bring your own utensils' },
            { hanzi: 'ËäÇÁúÅËµÑÊ∫ê', pinyin: 'ji√©shƒõng zƒ´yu√°n', english: 'conserve resources' },
            // 6) Sports & Activities ËøêÂä®‰∏éÊ¥ªÂä®
            { hanzi: 'ÊØîËµõ', pinyin: 'b«ês√†i', english: 'competition' },
            { hanzi: 'Âõ¢ÈòüÁ≤æÁ•û', pinyin: 'tu√°ndu√¨ jƒ´ngsh√©n', english: 'team spirit' },
            { hanzi: 'ÁªÉ‰π†', pinyin: 'li√†nx√≠', english: 'practice' },
            { hanzi: 'Âèó‰º§', pinyin: 'sh√≤ushƒÅng', english: 'injured' },
            { hanzi: 'ÈîªÁÇºË∫´‰Ωì', pinyin: 'du√†nli√†n shƒìnt«ê', english: 'keep fit' },
            { hanzi: 'ÁÉ≠Ë∫´', pinyin: 'r√®shƒìn', english: 'warm-up' },
            { hanzi: 'Êãâ‰º∏', pinyin: 'lƒÅshƒìn', english: 'stretch' },
            { hanzi: '‰ΩìËÉΩ', pinyin: 't«ên√©ng', english: 'fitness' },
            { hanzi: 'Ë£ÅÂà§', pinyin: 'c√°ip√†n', english: 'referee' },
            { hanzi: 'ÂÜ†ÂÜõ', pinyin: 'gu√†nj≈´n', english: 'champion' },
            { hanzi: '‰∫öÂÜõ', pinyin: 'y√†j≈´n', english: 'runner-up' },
            { hanzi: 'Âä†Ê≤π', pinyin: 'jiƒÅy√≥u', english: 'cheer' },
            { hanzi: 'Âï¶Âï¶Èòü', pinyin: 'lƒÅlƒÅdu√¨', english: 'cheer squad' },
            { hanzi: 'ÁêÉÁ±ªËøêÂä®', pinyin: 'qi√∫l√®i y√πnd√≤ng', english: 'ball games' },
            { hanzi: 'Ê∏∏Ê≥≥', pinyin: 'y√≥uy«íng', english: 'swimming' },
            { hanzi: 'Ë∑ëÊ≠•', pinyin: 'p«éob√π', english: 'running' },
            { hanzi: 'Êé•Âäõ', pinyin: 'jiƒìl√¨', english: 'relay' },
            { hanzi: '‰ΩìËÇ≤ËØæ', pinyin: 't«êy√π k√®', english: 'PE lesson' },
            { hanzi: 'Êä§ÂÖ∑', pinyin: 'h√πj√π', english: 'protective gear' },
            { hanzi: 'ËµõÂú∫', pinyin: 's√†ich«éng', english: 'sports ground' },
            // 7) Festivals & Celebrations ËäÇÊó•Â∫ÜÂÖ∏
            { hanzi: 'Êò•ËäÇ', pinyin: 'Ch≈´n ji√©', english: 'Chinese New Year' },
            { hanzi: 'ÊãúÂπ¥', pinyin: 'b√†ini√°n', english: 'New Year visit' },
            { hanzi: 'ÊúàÈ•º', pinyin: 'yu√®b«êng', english: 'mooncake' },
            { hanzi: 'ÁÉüËä±', pinyin: 'yƒÅnhuƒÅ', english: 'fireworks' },
            { hanzi: 'Âõ¢ÂúÜ', pinyin: 'tu√°nyu√°n', english: 'reunion' },
            { hanzi: 'ÂÖÉÂÆµËäÇ', pinyin: 'Yu√°nxiƒÅo ji√©', english: 'Lantern Festival' },
            { hanzi: 'Á´ØÂçàËäÇ', pinyin: 'DuƒÅnw«î ji√©', english: 'Dragon Boat Festival' },
            { hanzi: '‰∏≠ÁßãËäÇ', pinyin: 'Zh≈çngqi≈´ ji√©', english: 'Mid-Autumn Festival' },
            { hanzi: 'Ê±§ÂúÜ', pinyin: 'tƒÅngyu√°n', english: 'glutinous balls' },
            { hanzi: 'Á≤ΩÂ≠ê', pinyin: 'z√≤ngzi', english: 'rice dumpling' },
            { hanzi: 'Á∫¢ÂåÖ', pinyin: 'h√≥ngbƒÅo', english: 'red packet' },
            { hanzi: 'ËàûÈæô', pinyin: 'w«îl√≥ng', english: 'dragon dance' },
            { hanzi: 'ËàûÁãÆ', pinyin: 'w«îshƒ´', english: 'lion dance' },
            { hanzi: 'Âπ¥Á≥ï', pinyin: 'ni√°ngƒÅo', english: 'rice cake' },
            { hanzi: 'Âπ¥Â§úÈ•≠', pinyin: 'ni√°ny√®f√†n', english: 'reunion dinner' },
            { hanzi: 'ÁÅØÁ¨º', pinyin: 'dƒìngl√≥ng', english: 'lantern' },
            { hanzi: 'Êò•ËÅî', pinyin: 'ch≈´nli√°n', english: 'couplets' },
            { hanzi: 'ËäÇÊó•Ê∞îÊ∞õ', pinyin: 'ji√©r√¨ q√¨fƒìn', english: 'festive vibes' },
            { hanzi: '‰π†‰øó', pinyin: 'x√≠s√∫', english: 'customs' },
            { hanzi: 'ÂÆàÂ≤Å', pinyin: 'sh«íusu√¨', english: 'stay up on NYE' },
            // 8) Social Issues & Public Behaviour Á§æ‰ºöËØæÈ¢ò‰∏éÂÖ¨ÂÖ±Ë°å‰∏∫
            { hanzi: 'Á§ºË≤å', pinyin: 'l«êm√†o', english: 'politeness' },
            { hanzi: 'Âê∏ÁÉüÂå∫', pinyin: 'xƒ´yƒÅn q≈´', english: 'smoking area' },
            { hanzi: 'Âç†Â∫ß', pinyin: 'zh√†nzu√≤', english: 'seat-hogging' },
            { hanzi: 'ÊèíÈòü', pinyin: 'chƒÅdu√¨', english: 'cut queue' },
            { hanzi: 'ÊâπËØÑ', pinyin: 'pƒ´p√≠ng', english: 'criticism' },
            { hanzi: 'ËÆ©Â∫ß', pinyin: 'r√†ngzu√≤', english: 'give up seat' },
            { hanzi: 'ÂÖ¨ÂÖ±Áß©Â∫è', pinyin: 'g≈çngg√≤ng zh√¨x√π', english: 'public order' },
            { hanzi: 'ÈöèÂú∞ÂêêÁó∞', pinyin: 'su√≠d√¨ t«ît√°n', english: 'spitting' },
            { hanzi: '‰π±ÊâîÂûÉÂúæ', pinyin: 'lu√†n rƒìng lƒÅjƒ´', english: 'littering' },
            { hanzi: 'ÊñáÊòéÁî®ËØ≠', pinyin: 'w√©nm√≠ng y√≤ngy«î', english: 'courteous speech' },
            { hanzi: 'Ê¨∫Âáå', pinyin: 'qƒ´l√≠ng', english: 'bullying' },
            { hanzi: 'ÁΩëÁªúÈú∏Âáå', pinyin: 'w«énglu√≤ b√†l√≠ng', english: 'cyberbullying' },
            { hanzi: '‰∫§ÈÄöÁ§º‰ª™', pinyin: 'jiƒÅot≈çng l«êy√≠', english: 'road etiquette' },
            { hanzi: '‰ºòÂÖàÂ∫ß‰Ωç', pinyin: 'y≈çuxiƒÅn zu√≤w√®i', english: 'priority seat' },
            { hanzi: 'ÂøóÊÑøÊúçÂä°', pinyin: 'zh√¨yu√†n f√∫w√π', english: 'volunteering' },
            { hanzi: 'ÈÅµÂÆàÊ≥ïËßÑ', pinyin: 'z≈´nsh«íu f«éguƒ´', english: 'obey rules' },
            { hanzi: 'Á§æ‰ºöË¥£‰ªª', pinyin: 'sh√®hu√¨ z√©r√®n', english: 'social responsibility' },
            { hanzi: 'Â∞äÈáç‰ªñ‰∫∫', pinyin: 'z≈´nzh√≤ng tƒÅr√©n', english: 'respect others' },
            { hanzi: '‰∏çÊñáÊòéË°å‰∏∫', pinyin: 'b√π w√©nm√≠ng x√≠ngw√©i', english: 'inconsiderate acts' },
            { hanzi: 'ÂèçÊÄù', pinyin: 'f«énsƒ´', english: 'self-reflection' },
            // 9) Technology & Media ÁßëÊäÄ‰∏éÂ™í‰Ωì
            { hanzi: 'ÊâãÊú∫', pinyin: 'sh«íujƒ´', english: 'mobile phone' },
            { hanzi: '‰∏äÁΩë', pinyin: 'sh√†ngw«éng', english: 'go online' },
            { hanzi: '‰æùËµñ', pinyin: 'yƒ´l√†i', english: 'dependence' },
            { hanzi: 'ÁΩëÁªúÂÆâÂÖ®', pinyin: 'w«énglu√≤ ƒÅnqu√°n', english: 'cyber safety' },
            { hanzi: 'ËßÜÈ¢ëÈÄöËØù', pinyin: 'sh√¨p√≠n t≈çnghu√†', english: 'video call' },
            { hanzi: 'ËµÑËÆØÁßëÊäÄ', pinyin: 'zƒ´x√πn kƒìj√¨', english: 'ICT' },
            { hanzi: 'Á§æ‰∫§Â™í‰Ωì', pinyin: 'sh√®jiƒÅo m√©it«ê', english: 'social media' },
            { hanzi: '‰∏ãËΩΩ', pinyin: 'xi√†z√†i', english: 'download' },
            { hanzi: '‰∏ä‰º†', pinyin: 'sh√†ngchu√°n', english: 'upload' },
            { hanzi: 'ÂØÜÁ†Å', pinyin: 'm√¨m«é', english: 'password' },
            { hanzi: 'ÈöêÁßÅ', pinyin: 'y«ênsƒ´', english: 'privacy' },
            { hanzi: 'ÁΩëÁòæ', pinyin: 'w«éngy«ên', english: 'internet addiction' },
            { hanzi: 'ÁΩëËØæ', pinyin: 'w«éngk√®', english: 'online class' },
            { hanzi: 'Â±èÂπïÊó∂Èó¥', pinyin: 'p√≠ngm√π sh√≠jiƒÅn', english: 'screen time' },
            { hanzi: 'ÂÅáÊñ∞Èóª', pinyin: 'ji«é xƒ´nw√©n', english: 'fake news' },
            { hanzi: 'È™åËØÅÁ†Å', pinyin: 'y√†nzh√®ngm«é', english: 'verification code' },
            { hanzi: 'ËÄ≥Êú∫', pinyin: 'ƒõrjƒ´', english: 'headphones' },
            { hanzi: 'ÂÖÖÁîµ', pinyin: 'ch≈çngdi√†n', english: 'charge' },
            { hanzi: '‰∫åÁª¥Á†Å', pinyin: '√®rw√©im«é', english: 'QR code' },
            { hanzi: 'ËìùÁâô', pinyin: 'L√°ny√°', english: 'Bluetooth' },
            // 10) Classroom Behaviour & Discipline ËØæÂ†ÇÁ∫™Âæã‰∏éË°å‰∏∫
            { hanzi: 'Âê¨ËÆ≤', pinyin: 'tƒ´ngji«éng', english: 'pay attention' },
            { hanzi: 'ÊâìÊñ≠', pinyin: 'd«édu√†n', english: 'interrupt' },
            { hanzi: 'ÈÅµÂÆàËßÑÂàô', pinyin: 'z≈´nsh«íu guƒ´z√©', english: 'follow rules' },
            { hanzi: 'ÂÅöÂ•ΩÂáÜÂ§á', pinyin: 'zu√≤h«éo zh«înb√®i', english: 'be prepared' },
            { hanzi: '‰∏æÊâãÂèëË®Ä', pinyin: 'j«îsh«íu fƒÅy√°n', english: 'raise hand' },
            { hanzi: 'ËøüÂà∞', pinyin: 'ch√≠d√†o', english: 'late' },
            { hanzi: 'Á∫™Âæã', pinyin: 'j√¨l«ú', english: 'discipline' },
            { hanzi: '‰∏ìÂøÉ', pinyin: 'zhuƒÅnxƒ´n', english: 'focused' },
            { hanzi: 'Ëá™Ëßâ', pinyin: 'z√¨ju√©', english: 'self-directed' },
            { hanzi: '‰∫§ÂäüËØæ', pinyin: 'jiƒÅo g≈çngk√®', english: 'submit homework' },
            { hanzi: 'Âêà‰ΩúÂ≠¶‰π†', pinyin: 'h√©zu√≤ xu√©x√≠', english: 'collaborative learning' },
            { hanzi: 'Â∞äÈáçËÄÅÂ∏à', pinyin: 'z≈´nzh√≤ng l«éoshƒ´', english: 'respect teacher' },
            { hanzi: 'ËΩÆÊµÅÂèëË®Ä', pinyin: 'l√∫nli√∫ fƒÅy√°n', english: 'take turns' },
            { hanzi: 'ÊéíÈòü', pinyin: 'p√°idu√¨', english: 'queue' },
            { hanzi: '‰øùÊåÅÂÆâÈùô', pinyin: 'b«éoch√≠ ƒÅnj√¨ng', english: 'keep quiet' },
            { hanzi: 'ÊäÑË¢≠', pinyin: 'chƒÅox√≠', english: 'plagiarism' },
            { hanzi: '‰ΩúÂºä', pinyin: 'zu√≤b√¨', english: 'cheat' },
            { hanzi: 'Ê£ÄËÆ®', pinyin: 'ji«ént«éo', english: 'reflect/write reflection' },
            { hanzi: 'ËØ∑ÂÅá', pinyin: 'q«êngji√†', english: 'apply for leave' },
            { hanzi: 'ÂÄüÁî®', pinyin: 'ji√®y√≤ng', english: 'borrow (stationery)' }
        ];

        // --- 2. DOM ELEMENTS ---
        const screens = document.querySelectorAll('.screen');
        const startBtn = document.getElementById('start-btn');
        const tryAgainBtn = document.getElementById('try-again-btn');
        const difficultySlider = document.getElementById('difficulty');
        const difficultyLabel = document.getElementById('difficulty-label');
        
        const scoreEl = document.getElementById('score');
        const streakEl = document.getElementById('streak');
        const livesEl = document.getElementById('lives');
        const timerBar = document.getElementById('timer-bar');
        const promptEl = document.getElementById('prompt');
        const answerBtns = document.querySelectorAll('.answer-btn');
        const streakMessageEl = document.getElementById('streak-message');

        const finalScoreEl = document.getElementById('final-score');
        const avgTimeEl = document.getElementById('avg-time');
        const summaryBody = document.getElementById('summary-body');

        // --- 3. GAME STATE VARIABLES ---
        let score, lives, streak, gameWords, currentWordIndex, missedWords, difficultyTime;
        let timerInterval, startTime, totalGuessTime, questionsAnswered;

        const difficultySettings = {
            1: { time: 8, label: 'Easy (8s)' },
            2: { time: 5, label: 'Medium (5s)' },
            3: { time: 3, label: 'Hard (3s)' }
        };

        // --- 4. EVENT LISTENERS ---
        startBtn.addEventListener('click', startGame);
        tryAgainBtn.addEventListener('click', startGame);

        difficultySlider.addEventListener('input', () => {
            const setting = difficultySettings[difficultySlider.value];
            difficultyLabel.textContent = setting.label;
            difficultyTime = setting.time;
        });

        answerBtns.forEach(btn => {
            btn.addEventListener('click', selectAnswer);
        });

        // --- 5. GAME LOGIC FUNCTIONS ---
        function switchScreen(screenId) {
            screens.forEach(screen => {
                screen.classList.remove('active');
                if (screen.id === screenId) {
                    screen.classList.add('active');
                }
            });
        }

        function startGame() {
            score = 0;
            lives = 5;
            streak = 0;
            currentWordIndex = 0;
            missedWords = [];
            totalGuessTime = 0;
            questionsAnswered = 0;
            
            const setting = difficultySettings[difficultySlider.value];
            difficultyTime = setting.time;

            gameWords = shuffleArray([...wordList]);
            
            updateHeader();
            nextQuestion();
            switchScreen('game-screen');
        }

        function updateHeader() {
            scoreEl.textContent = `Score: ${score}`;
            streakEl.innerHTML = `üî• x ${streak}`;
            livesEl.textContent = '‚ù§Ô∏è'.repeat(lives) + 'üñ§'.repeat(5 - lives);
        }

        function nextQuestion() {
            if (currentWordIndex >= gameWords.length || lives <= 0) {
                gameOver();
                return;
            }

            answerBtns.forEach(btn => {
                btn.className = 'answer-btn';
                btn.disabled = false;
            });

            const currentWord = gameWords[currentWordIndex];
            promptEl.textContent = `What is the Mandarin word for '${currentWord.english}'?`;

            const options = getOptions(currentWord);
            answerBtns.forEach((btn, i) => {
                btn.querySelector('.hanzi').textContent = options[i].hanzi;
                btn.querySelector('.pinyin').textContent = options[i].pinyin;
                btn.dataset.correct = options[i].hanzi === currentWord.hanzi;
            });
            
            startTimer();
            currentWordIndex++;
        }
        
        function getOptions(correctWord) {
            let distractors = [];
            const tempList = wordList.filter(word => word.hanzi !== correctWord.hanzi);
            
            while(distractors.length < 3) {
                const randomIndex = Math.floor(Math.random() * tempList.length);
                const randomWord = tempList[randomIndex];
                if (!distractors.includes(randomWord)) {
                    distractors.push(randomWord);
                }
            }
            
            const options = shuffleArray([correctWord, ...distractors]);
            return options;
        }

        function startTimer() {
            clearInterval(timerInterval);
            startTime = Date.now();
            let timeLeft = difficultyTime;
            timerBar.style.transition = 'none';
            timerBar.style.width = '100%';
            timerBar.style.backgroundColor = 'var(--correct-color)';
            
            void timerBar.offsetWidth;
            
            timerBar.style.transition = `width ${difficultyTime}s linear, background-color 0.5s ease`;
            timerBar.style.width = '0%';

            timerInterval = setInterval(() => {
                timeLeft -= 0.1;
                if (timeLeft < difficultyTime / 2) timerBar.style.backgroundColor = '#ffc107';
                if (timeLeft < difficultyTime / 4) timerBar.style.backgroundColor = '#dc3545';
                if (timeLeft <= 0) {
                    handleIncorrect(null, true);
                }
            }, 100);
        }

        function selectAnswer(e) {
            clearInterval(timerInterval);
            recordTime();
            
            const selectedBtn = e.target.closest('.answer-btn');
            const isCorrect = selectedBtn.dataset.correct === 'true';

            answerBtns.forEach(btn => {
                btn.disabled = true;
                btn.classList.add('show-pinyin');
            });

            if (isCorrect) {
                score += 100 + (streak * 10);
                streak++;
                checkStreak();
                selectedBtn.classList.add('correct');
                setTimeout(nextQuestion, 800);
            } else {
                handleIncorrect(selectedBtn, false);
            }
            updateHeader();
        }

        function handleIncorrect(selectedBtn, isTimeout) {
            if(isTimeout) recordTime();
            
            lives--;
            streak = 0;
            const correctWord = gameWords[currentWordIndex - 1];
            if (!missedWords.some(word => word.hanzi === correctWord.hanzi)) {
                missedWords.push(correctWord);
            }
            
            answerBtns.forEach(btn => {
                btn.disabled = true;
                btn.classList.add('show-pinyin');
                if (btn.dataset.correct === 'true') {
                    btn.classList.add('correct');
                }
            });

            if (selectedBtn) {
                 selectedBtn.classList.add('incorrect');
            }

            updateHeader();
            setTimeout(nextQuestion, 1500);
        }

        function checkStreak() {
            let message = '';
            switch (streak) {
                case 3: message = "Great!"; break;
                case 5: message = "Awesome!"; break;
                case 10: message = "Unstoppable!"; break;
                case 15: message = "Wrecking Ball!"; break;
                case 20: message = "GODLIKE!"; break;
            }
            if (streak > 20 && streak % 5 === 0) {
                message = `${streak} Streak!`;
            }

            if (message) {
                showStreakMessage(message);
            }
        }

        function showStreakMessage(message) {
            streakMessageEl.textContent = message;
            streakMessageEl.classList.add('show');
            setTimeout(() => {
                streakMessageEl.classList.remove('show');
            }, 1500);
        }
        
        function recordTime() {
            const endTime = Date.now();
            const guessTime = (endTime - startTime) / 1000;
            totalGuessTime += guessTime;
            questionsAnswered++;
        }

        function gameOver() {
            switchScreen('game-over-screen');
            finalScoreEl.textContent = score;
            
            const averageTime = questionsAnswered > 0 ? (totalGuessTime / questionsAnswered).toFixed(2) : 0;
            avgTimeEl.textContent = averageTime;

            populateSummaryTable();
        }

        function populateSummaryTable() {
            summaryBody.innerHTML = '';
            if (missedWords.length === 0) {
                summaryBody.innerHTML = '<tr><td colspan="4">Excellent work! You didn\'t miss any words.</td></tr>';
                return;
            }
            missedWords.forEach((word, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index + 1}.</td>
                    <td>${word.hanzi}</td>
                    <td>${word.pinyin}</td>
                    <td>${word.english}</td>
                `;
                summaryBody.appendChild(row);
            });
        }

        // --- 6. UTILITY FUNCTIONS ---
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Initialize the difficulty label
        difficultyLabel.textContent = difficultySettings[difficultySlider.value].label;

    </script>
</body>
</html>
```
